{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar angular = (typeof window !== \"undefined\" ? window['angular'] : typeof global !== \"undefined\" ? global['angular'] : null);\n\nvar websocket = require('./websocket');\nvar chart = require('./chart');\n\nvar app = angular.module('iotApp', ['angular-websocket', 'chart.js', 'ui.odometer', websocket.name, chart.name]);\n\napp.constant('WEBSOCKET_URL', 'ws://192.168.0.105:1880/ws/temp+humidity');\napp.constant('API_URL', 'http://192.168.0.105:8000/api/v0');\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./chart\":2,\"./websocket\":3}],2:[function(require,module,exports){\n'use strict';\n\nmodule.exports = angular.module('chart', ['chart.js']).controller(\"TemperatureChartController\", function ($scope, $http, API_URL) {\n    $scope.loaded = false;\n    $scope.loadChart = function () {\n        $http.get(API_URL + \"/temperatures/getAveragePerHour\").then(function (response) {\n            var data = response.data;\n\n            var seriesData = [];\n            var seriesLabels = [];\n            for (var i = 0; i < data.length; i++) {\n                seriesLabels.push(data[i].hour);\n                seriesData.push(data[i].value);\n            }\n\n            $scope.labels = seriesLabels;\n            $scope.series = ['Temperature'];\n            $scope.data = [seriesData];\n        });\n        $scope.loaded = true;\n    };\n});\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nmodule.exports = angular.module('websocket', ['angular-websocket']).factory('WebSocketData', function ($websocket, WEBSOCKET_URL) {\n    // Open a WebSocket connection\n    var dataStream = $websocket(WEBSOCKET_URL);\n\n    var collection = [{ temperature: 4.81 }];\n\n    dataStream.onOpen = function (event) {\n        console.log(event);\n    };\n\n    dataStream.onError = function (event) {\n        console.log(event);\n    };\n\n    dataStream.onMessage(function (message) {\n        console.log(message);\n        collection.push(JSON.parse(message.data));\n    });\n\n    var methods = {\n        collection: collection,\n        last: collection[collection.length - 1]\n    };\n\n    return methods;\n}).controller('WebSocketController', function ($scope, WebSocketData) {\n    $scope.WebSocketData = WebSocketData;\n});\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nrequire('./angular/app.js');\n\n},{\"./angular/app.js\":1}]},{},[4]);\n"],"file":"app.js","sourceRoot":"/source/"}